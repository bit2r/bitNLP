<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Manipulate Documents • bitNLP</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manipulate Documents">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bitNLP</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.4.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/explore_docs.html">Explore Documents</a></li>
    <li><a class="dropdown-item" href="../articles/Install_in_RstudioCloud.html">Install bitNLP in RStudio Cloud</a></li>
    <li><a class="dropdown-item" href="../articles/Install_mecab.html">Install mecab-ko</a></li>
    <li><a class="dropdown-item" href="../articles/Introduce.html">Introduce bitNLP</a></li>
    <li><a class="dropdown-item" href="../articles/manage_dic.html">Manage Dictionary</a></li>
    <li><a class="dropdown-item" href="../articles/manipulate_docs.html">Manipulate Documents</a></li>
    <li><a class="dropdown-item" href="../articles/morphology.html">Morphological Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/with_tidytext.html">Collaboration with tidytext package</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Manipulate Documents</h1>
            
      

      <div class="d-none name"><code>manipulate_docs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="manipulate-documents">Manipulate Documents<a class="anchor" aria-label="anchor" href="#manipulate-documents"></a>
</h2>
<p><code>Manipulate Documents</code>라 쓰고 텍스트
<strong><code>텍스트 데이터 정제</code></strong>라 이야기 합니다.</p>
<div class="section level3">
<h3 id="텍스트-데이터-정제">텍스트 데이터 정제<a class="anchor" aria-label="anchor" href="#%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%95%EC%A0%9C"></a>
</h3>
<p>신문 기사나 소설, 수필과 같은 잘 정리된 텍스트 문서와 뉴스 진행자들이
전하는 뉴스 멘트들은 맞춤법에 부합하는 품질 높은 텍스트
데이터들입니다.</p>
<p>실제로 텍스트 분석에 직면하면 환상은 저 먼 나라의 이야기가 되어
버립니다. 맞춤법, 띄어쓰기가 무시된 텍스트는 그나마 애교가 있는
수준입니다.</p>
<p>통화 내용을 STT(Speech to Text)기법으로 텍스트로 변환한 데이터는
변환기의 성능이 완벽하지 않아서 품질이 매우 낮습니다. 화자와 청자의
의도는 유추하여 이해할 수 있겠으나, 텍스트 분석이라는 기계를 시켜서
수행하는 데이터 분석에는 부족함이 많습니다.</p>
<p>카페나 블로그의 게시글, SNS 채널의 글은 <strong>맞춤법, 띄어쓰기에
취약하고, 신조어나 암호같은 줄임말, 완전하지 않은 문장들이
포함</strong>됩니다. 경우에 따라서는 수집 과정에서 기술적인 한계로,
<strong>불필요한 텍스트들이 포함</strong>되기도 합니다. 그래서 데이터
정제없이 분석할 수 없는 경우가 많습니다. 어떤 경우는 수집한 텍스트
데이터가 데이터 <strong>분석을 수행하려는 목적과 부합하지 않아서
제거해야할</strong> 경우도 있습니다.</p>
<p>이처럼 텍스트 데이터 분석은 일반적인 데이터 분석에 비해서 데이터
정제가 차지하는 비중은 매우 큽니다. 텍스트 데이터 정제 성능은 텍스트
데이터 분석 성능과 직결되기 때문입니다.</p>
</div>
<div class="section level3">
<h3 id="형태소분석과-데이터의-품질">형태소분석과 데이터의 품질<a class="anchor" aria-label="anchor" href="#%ED%98%95%ED%83%9C%EC%86%8C%EB%B6%84%EC%84%9D%EA%B3%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%ED%92%88%EC%A7%88"></a>
</h3>
<p>텍스트 데이터 분석은 보통 형태소분석을 통해서 품사를 태깅하고, 품사
기반으로 토큰화된 단어로 텍스트 분석을 수행합니다.</p>
<p>문제는 분석에 사용하는 형태소분석기가, 문법과 띄어쓰기에 부합되는
품질 좋은 양질의 텍스트 데이터를 학습해서 만들어진 모델을 이용한다는
점입니다. 그래서 형태소분석을 수행하는 데이터의 품질이 떨어진다면,
형태소분석의 결과도 만족스럽지 못합니다. 어찌 보면 이러한 점이 데이터
정제를 하는 가장 큰 이유 중에 하나입니다.</p>
<p>문서의 품질이 높은 경우에도 문제가 발생할 수 있습니다. 형태소분석기에
사용한 학습 데이터는 우리가 일상 생활에서 이야기하는 대화의 주제, 혹은
직업, 학문과 예술, 종교 등 여러 분야의 내용을 모두 담지 못합니다.
<strong>학습 데이터는 지극히 일부의 샘플링된 문장들</strong>이라는
점입니다. 그래서 통상적인 생활에서 발화되는 단어가 아닌 전문성이 필요한
영역의 단어를 이해하지 못합니다.</p>
<p><code>알파고</code>가 쏘아 올린 화두가 학계와 필드의 AI 혁신을
이끌었습니다. 아마도 5년전에는 대중들은 <code>알파고</code>라는 단어에
익숙하지 못했을 겁니다.</p>
<p>이처럼 형태소분석기가 취약한 <strong>신조어나, 특정 영역에서 사용하는
전문용어들은 사용자 정의 사전에 등록</strong>해서 형태소분석기가 이를
이해할 수 있도록 도와줘야 합니다. 이러한 작업들도 광의적으로 데이터를
정제를 수행하는 덱트스 데이터의 조작(Manipulate Documents)입니다.</p>
</div>
<div class="section level3">
<h3 id="텍스트-데이터-정제를-위한-bitnlp의-기능">텍스트 데이터 정제를 위한 bitNLP의 기능<a class="anchor" aria-label="anchor" href="#%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%95%EC%A0%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-bitnlp%EC%9D%98-%EA%B8%B0%EB%8A%A5"></a>
</h3>
<p>bitNLP의 텍스트 데이터 조작 기능을 정리하면 다음과 같습니다.</p>
<ul>
<li>문서 단위의 전처리
<ul>
<li>문서 필터링 (Filter Documents)</li>
</ul>
</li>
<li>텍스트 단위의 전처리
<ul>
<li>텍스트 대체 (Replace Texts)</li>
<li>텍스트 연결 (Concatenate Texts)</li>
<li>텍스트 분리 (Split Texts)</li>
<li>텍스트 제거 (Remove Texts)</li>
</ul>
</li>
</ul>
<p>bitNLP는 대용량의 텍스트 데이터에서 상기 데이터 조작을 수행할 수
있도록 도와줍니다. 그래서 다음과 같은 방법으로 작업합니다.</p>
<ul>
<li>병렬 처리를 통한 속도의 개선</li>
<li>데이터 조작 룰을 등록한 메타(meta) 파일 활용</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="bitnlp의-메타-데이터-관리">bitNLP의 메타 데이터 관리<a class="anchor" aria-label="anchor" href="#bitnlp%EC%9D%98-%EB%A9%94%ED%83%80-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC"></a>
</h2>
<div class="section level3">
<h3 id="메타-데이터-종류-및-데이터-포맷">메타 데이터 종류 및 데이터 포맷<a class="anchor" aria-label="anchor" href="#%EB%A9%94%ED%83%80-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8F%AC%EB%A7%B7"></a>
</h3>
<table class="table">
<colgroup>
<col width="15%">
<col width="17%">
<col width="10%">
<col width="56%">
</colgroup>
<thead><tr class="header">
<th>메터 데이터 이름</th>
<th>메타 데이터 아이디</th>
<th>변수이름</th>
<th>변수 설명</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>문서 필터링</td>
<td>filter</td>
<td>rule_nm</td>
<td>개별 필터 룰의 이름</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>pattern</td>
<td>문서 필터링을 위한 패턴 매치 정규표현식</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>accept</td>
<td>allow/deny 여부, TRUE는 allow 패턴, FALSE는 deny 패턴</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>use</td>
<td>개별 룰 사용여부, FALSE이면 미사용, TRUE인 건만 사용</td>
</tr>
<tr class="odd">
<td>텍스트 대체</td>
<td>replace</td>
<td>rule_nm</td>
<td>개별 대체 룰의 이름</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>rule_class</td>
<td>텍스트 대체 룰의 그룹 이름</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>pattern</td>
<td>텍스트 대체를 위한 패턴 매치 정규표현식</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>replace</td>
<td>패턴에 매치된 텍스트를 대체할 텍스트 정의</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>use</td>
<td>개별 룰 사용여부, FALSE이면 미사용, TRUE인 건만 사용</td>
</tr>
<tr class="even">
<td>텍스트 연결</td>
<td>concat</td>
<td>rule_nm</td>
<td>개별 연결 룰의 이름</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>pattern</td>
<td>텍스트 연결을 위한 패턴 매치 정규표현식</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>replace</td>
<td>패턴에 매치된 텍스트를 대체할 텍스트 정의</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>use</td>
<td>개별 룰 사용여부, FALSE이면 미사용, TRUE인 건만 사용</td>
</tr>
<tr class="even">
<td>텍스트 분리</td>
<td>split</td>
<td>rule_nm</td>
<td>개별 분리 룰의 이름</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>pattern</td>
<td>텍스트 분리를 위한 패턴 매치 정규표현식</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>replace</td>
<td>패턴에 매치된 텍스트를 대체할 텍스트 정의</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>use</td>
<td>개별 룰 사용여부, FALSE이면 미사용, TRUE인 건만 사용</td>
</tr>
<tr class="even">
<td>텍스트 제거</td>
<td>remove</td>
<td>rule_nm</td>
<td>개별 제거 필터의 이름</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>pattern</td>
<td>텍스트 제거를 위한 패턴 매치 정규표현식</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>use</td>
<td>개별 룰 사용여부, FALSE이면 미사용, TRUE인 건만 사용</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="메타-데이터의-설정과-확인">메타 데이터의 설정과 확인<a class="anchor" aria-label="anchor" href="#%EB%A9%94%ED%83%80-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EC%84%A4%EC%A0%95%EA%B3%BC-%ED%99%95%EC%9D%B8"></a>
</h3>
<p><code><a href="../reference/get_meta.html">set_meta()</a></code> 함수는 세션 안에서 bitNLP 패키지의 메타
데이터를 등록합니다.</p>
<p>다음의 <code><a href="../reference/get_meta.html">set_meta()</a></code> 함수의 원형을 보면 데이터 파일을 읽는
방법과 유사합니다.</p>
<pre><code><span><span class="fu"><a href="../reference/get_meta.html">set_meta</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"filter"</span>, <span class="st">"replace"</span>, <span class="st">"remove"</span>, <span class="st">"concat"</span>, <span class="st">"split"</span><span class="op">)</span>,</span>
<span>  <span class="va">filename</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">","</span>,</span>
<span>  fileEncoding <span class="op">=</span> <span class="st">"utf-8"</span>,</span>
<span>  append <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre>
<p>bitNLP 패키지는 샘플 메타 데이터 파일을 제공하는데, 문서 필터링을
위한 샘플 메타 데이터 파일을 읽어 봅니다.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r2bit.com/bitNLP/">bitNLP</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">meta_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"meta"</span>, package <span class="op">=</span> <span class="st">"bitNLP"</span><span class="op">)</span></span>
<span><span class="va">fname</span> <span class="op">&lt;-</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"{meta_path}/preparation_filter.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## 데이터 필터링 메타 신규 등록</span></span>
<span><span class="fu"><a href="../reference/get_meta.html">set_meta</a></span><span class="op">(</span><span class="st">"filter"</span>, <span class="va">fname</span>, fileEncoding <span class="op">=</span> <span class="st">"utf8"</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/get_meta.html">get_meta()</a></code> 함수는 세션 안에서 등록된 메타 데이터를
조회합니다.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="do">## 기 등록된 데이터 필터링 메타 조회</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">get_meta</span>(<span class="st">"filter"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>   rule_nm</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="dv">1</span> 신문기사</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="dv">2</span> 제품홍보</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="dv">3</span> 설문조사</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="dv">4</span>     출처</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="dv">5</span>   이벤트</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="dv">6</span>     방송</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>                                                                                    pattern</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="dv">1</span>                                   (팍스넷<span class="sc">|</span>파이낸셜<span class="sc">|</span>연합<span class="sc">|</span>(PT)<span class="sc">|</span>오마이<span class="sc">|</span>경제)[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>뉴스</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="dv">2</span> ((입법<span class="sc">|</span>정치<span class="sc">|</span>교육)[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>플랫폼)<span class="sc">|</span>맘마미아[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>가계부[[<span class="sc">:</span>print<span class="sc">:</span>]]<span class="sc">*</span>인증샷<span class="sc">|</span>Playtex</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="dv">3</span>                                                              좌담회<span class="sc">|</span>구글설문<span class="sc">|</span>채용대행업체</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="dv">4</span>                                                    출처[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span><span class="er">:|</span>문의처보건복지콜센터</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="dv">5</span>                                     (증정<span class="sc">|</span>기념)이벤트<span class="sc">|</span>허니스크린<span class="sc">|</span>이벤트를[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>진행</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="dv">6</span>                                 제작진<span class="sc">|</span>기억저장소<span class="sc">|</span>추모카페<span class="sc">|</span>블랙홀<span class="sc">|</span>푸드스튜디오<span class="sc">|</span>연금정보넷</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>  accept  use</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="dv">1</span>  <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="dv">2</span>  <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="dv">3</span>  <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="dv">4</span>  <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="dv">5</span>  <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="dv">6</span>  <span class="cn">FALSE</span> <span class="cn">TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filter_text를-이용한-문서-필터링">filter_text()를 이용한 문서 필터링<a class="anchor" aria-label="anchor" href="#filter_text%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%AC%B8%EC%84%9C-%ED%95%84%ED%84%B0%EB%A7%81"></a>
</h3>
<p>텍스트 데이터(문서들) 중에서 분석을 수행하려는 목적과 부합하지 않은
텍스트(문서)를 제거해야할 경우에는 <code><a href="../reference/filter_text.html">filter_text()</a></code>를
사용합니다.</p>
<p>이미 앞에서 문서 필터링을 위한 메타 데이터 파일을 읽어들였습니다.
6개의 룰은 <code>accept</code> 값이 FALSE인 deny 룰입니다. 즉 해당 검색
패턴을 만족하는 텍스트 데이터를 제거하는 작업을 수행합니다.</p>
<div class="section level4">
<h4 id="문자-벡터의-필터링">문자 벡터의 필터링<a class="anchor" aria-label="anchor" href="#%EB%AC%B8%EC%9E%90-%EB%B2%A1%ED%84%B0%EC%9D%98-%ED%95%84%ED%84%B0%EB%A7%81"></a>
</h4>
<p>버즈 데이터의 본문은 길이가 1000인 문자 벡터입니다. 이 벡터는 5개의
결측치를 포함하고 있습니다.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>doc_content <span class="ot">&lt;-</span> buzz<span class="sc">$</span>CONTENT</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">is.character</span>(doc_content)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">length</span>(doc_content)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1000</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(doc_content))</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>8개의 코어를 이용해서 필터링을 수행합니다.
<code>as_logical = FALSE</code>을 지정하면 문자 벡터의 필터링을 수행할
수 있습니다.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>doc_after_character <span class="ot">&lt;-</span> <span class="fu">filter_text</span>(doc_content, <span class="at">as_logical =</span> <span class="cn">FALSE</span>, <span class="at">mc.cores =</span> <span class="dv">8</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>── rejects<span class="sc">:</span> 방송 ──────────────────────────────────────────────────────── <span class="dv">3</span>건 ──</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>── rejects<span class="sc">:</span> 설문조사 ──────────────────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>── rejects<span class="sc">:</span> 신문기사 ──────────────────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>── rejects<span class="sc">:</span> 이벤트 ────────────────────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>── rejects<span class="sc">:</span> 제품홍보 ──────────────────────────────────────────────────── <span class="dv">2</span>건 ──</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>── rejects<span class="sc">:</span> 출처 ──────────────────────────────────────────────────────── <span class="dv">2</span>건 ──</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>── Missing Check<span class="sc">:</span> Removing <span class="cn">NA</span> ─────────────────────────────────────────── <span class="dv">5</span>건 ──</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="fu">length</span>(doc_after_character)</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">985</span></span></code></pre></div>
<p>5개의 결측치와 6개의 룰에서 10개의 문서가 제거되어서 길이가 985인
문자 벡터가 만들어졌습니다.</p>
</div>
<div class="section level4">
<h4 id="데이터-프레임의-필터링">데이터 프레임의 필터링<a class="anchor" aria-label="anchor" href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%94%84%EB%A0%88%EC%9E%84%EC%9D%98-%ED%95%84%ED%84%B0%EB%A7%81"></a>
</h4>
<p>tidytext 패키지를 이용해서 텍스트 데이터 분석을 수행한다면, 문자
벡터의 필터링이 아니라 문자 변수를 이용한 필터링을 수행해야 합니다.</p>
<p>다음처럼 <code>as_logical</code> 인수의 기본값인 TRUE를 사용합니다.
이 경우는 <code>CONTENT</code> 변수의 모든 원소에 대해서 allow 필터링
여부를 의미하는 논리 벡터를 만들어 반환합니다. 그러므로
<code>dplyr</code> 패키지의 <code>filter</code> 함수와 사용하여
필터링합니다.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>buzz <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">filter_text</span>(CONTENT, <span class="at">verbos =</span> <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="fu">select</span>(KEYWORD, SRC, CONTENT)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="co"># A tibble: 985 × 3 [39m</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  KEYWORD SRC              CONTENT                                              </span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>   [<span class="dv">3</span>m [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="sc">&lt;</span>chr<span class="sc">&gt;</span> [<span class="dv">39</span>m [<span class="dv">23</span>m    [<span class="dv">3</span>m [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="sc">&lt;</span>chr<span class="sc">&gt;</span> [<span class="dv">39</span>m [<span class="dv">23</span>m             [<span class="dv">3</span>m [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="sc">&lt;</span>chr<span class="sc">&gt;</span> [<span class="dv">39</span>m [<span class="dv">23</span>m                                                </span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">250</span>m1 [<span class="dv">39</span>m 맞벌이  <span class="dv">17</span>,<span class="dv">18</span>년 베이비맘  [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="st">" [39m지금 둘째 임신중인 어머니예요 첫째는 16년 1월생 둘째출산예정은 17년 3월생 어쩌다 보니…</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="st"> [38;5;250m2 [39m 맞벌이  20대 수다방       [38;5;246m"</span> [<span class="dv">39</span>m저희 부부는 맞벌이인데요 남편 회사 사람들도 거의 다 맞벌이인가봐요 그래도 아침마다 아내분들…</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">250</span>m3 [<span class="dv">39</span>m 맞벌이  <span class="dv">20</span>대 수다방       [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="st">" [39m신랑지출 제지출 구분해서 따로적으시나요 제가쓴돈은 알아도 신랑이쓴돈은 잘몰라 어떻게 적어야할…</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="st"> [38;5;250m4 [39m 맞벌이  20대 수다방       [38;5;246m"</span> [<span class="dv">39</span>m너무 고민이 되서 하소연 할때 없어서 여기서 하소연 해봐요 글이좀 길수가 있어요 양해 부탁 …</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;<span class="dv">246</span>m<span class="co"># ℹ 981 more rows [39m</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="replace_text를-이용한-텍스트-대체">replace_text()를 이용한 텍스트 대체<a class="anchor" aria-label="anchor" href="#replace_text%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%8C%80%EC%B2%B4"></a>
</h3>
<p>문서 안에 포함된 특정 텍스트를 다른 텍스트로 대체하기 위해서는
<code><a href="../reference/replace_text.html">replace_text()</a></code>를 사용합니다. <code>as_logical</code> 인수만
없을 뿐 사용 방법은 <code><a href="../reference/filter_text.html">filter_text()</a></code>와 유사합니다.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>meta_path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"meta"</span>, <span class="at">package =</span> <span class="st">"bitNLP"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>fname <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{meta_path}/preparation_replace.csv"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="fu">set_meta</span>(<span class="st">"replace"</span>, fname, <span class="at">fileEncoding =</span> <span class="st">"utf8"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co"># 등록된 문자열 대체 룰 확인하기</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="fu">get_meta</span>(<span class="st">"replace"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>       rule_nm    rule_class</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="dv">1</span>  다중 구두점   구두점 대체</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="dv">2</span>         남편 유사단어 대체</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="dv">3</span>   베이비시터 유사단어 대체</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="dv">4</span>     텔레비전 유사단어 대체</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="dv">5</span>         CCTV 유사단어 대체</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="dv">6</span>       할머니 유사단어 대체</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="dv">7</span>       어머니 유사단어 대체</span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="dv">8</span>       아버지 유사단어 대체</span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="dv">9</span>         아들 유사단어 대체</span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="dv">10</span>          딸 유사단어 대체</span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="dv">11</span>      화이팅 유사단어 대체</span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="dv">12</span>      모유량 유사단어 대체</span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="dv">13</span>        베개 유사단어 대체</span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="dv">14</span>        초산 유사단어 대체</span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="dv">15</span>        급여 유사단어 대체</span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a>                                                  pattern    replace  use</span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a><span class="dv">1</span>                                               (\\.){<span class="dv">2</span>,}        \\. <span class="cn">TRUE</span></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a><span class="dv">2</span>                                               신랑<span class="sc">|</span>남편       남편 <span class="cn">TRUE</span></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="dv">3</span>  베비시터<span class="sc">|</span>((육아<span class="sc">|</span>아이<span class="sc">|</span>아기)[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>(도우미<span class="sc">|</span>돌보미)) 베이비시터 <span class="cn">TRUE</span></span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a><span class="dv">4</span>                          TV<span class="sc">|</span>테레비<span class="sc">|</span>티브이<span class="sc">|</span>텔레비젼<span class="sc">|</span>티비   텔레비전 <span class="cn">TRUE</span></span>
<span id="cb7-28"><a href="#cb7-28" tabindex="-1"></a><span class="dv">5</span>           (CC<span class="sc">|</span>cc<span class="sc">|</span>씨씨)[[<span class="sc">:</span>space<span class="sc">:</span>]]?(텔레비전<span class="sc">|</span>티비<span class="sc">|</span>tv<span class="sc">|</span>TV)       CCTV <span class="cn">TRUE</span></span>
<span id="cb7-29"><a href="#cb7-29" tabindex="-1"></a><span class="dv">6</span>                                     할(미<span class="sc">|</span>머님<span class="sc">|</span>무니<span class="sc">|</span>매)     할머니 <span class="cn">TRUE</span></span>
<span id="cb7-30"><a href="#cb7-30" tabindex="-1"></a><span class="dv">7</span>                                 엄마<span class="sc">|</span>어머님<span class="sc">|</span>엄니<span class="sc">|</span>어무니     어머니 <span class="cn">TRUE</span></span>
<span id="cb7-31"><a href="#cb7-31" tabindex="-1"></a><span class="dv">8</span>                                      아버님<span class="sc">|</span>아빠<span class="sc">|</span>아부지     아버지 <span class="cn">TRUE</span></span>
<span id="cb7-32"><a href="#cb7-32" tabindex="-1"></a><span class="dv">9</span>                              아들(래미<span class="sc">|</span>아이<span class="sc">|</span>애<span class="sc">|</span>내미<span class="sc">|</span>램)       아들 <span class="cn">TRUE</span></span>
<span id="cb7-33"><a href="#cb7-33" tabindex="-1"></a><span class="dv">10</span>                               딸(래미<span class="sc">|</span>아이<span class="sc">|</span>애<span class="sc">|</span>내미<span class="sc">|</span>램)         딸 <span class="cn">TRUE</span></span>
<span id="cb7-34"><a href="#cb7-34" tabindex="-1"></a><span class="dv">11</span>                                     파이팅<span class="sc">|</span>홧팅<span class="sc">|</span>퐈이팅     화이팅 <span class="cn">TRUE</span></span>
<span id="cb7-35"><a href="#cb7-35" tabindex="-1"></a><span class="dv">12</span>                                모유[[<span class="sc">:</span>space<span class="sc">:</span>]]?[양<span class="sc">|</span>량]     모유량 <span class="cn">TRUE</span></span>
<span id="cb7-36"><a href="#cb7-36" tabindex="-1"></a><span class="dv">13</span>                                           [베배][게개]       베개 <span class="cn">TRUE</span></span>
<span id="cb7-37"><a href="#cb7-37" tabindex="-1"></a><span class="dv">14</span>                              (첫<span class="sc">|</span>처음)[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>출산       초산 <span class="cn">TRUE</span></span>
<span id="cb7-38"><a href="#cb7-38" tabindex="-1"></a><span class="dv">15</span>                                              월급<span class="sc">|</span>봉급       급여 <span class="cn">TRUE</span></span></code></pre></div>
<p><code>남편</code>이라는 단어와 <code>신랑</code>이라는 단어를 포함한
문장의 수는 각각 175개와 177개입니다. 그러나 이 두 단어는 동의어입니다.
그래서 텍스트 대체 룰에는 이 두 단어를 <code>남편</code>이라는 하나의
단어로 표준화했습니다.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>doc_content <span class="ot">&lt;-</span> buzz<span class="sc">$</span>CONTENT</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(doc_content, <span class="st">"남편"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">175</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(doc_content, <span class="st">"신랑"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">177</span></span></code></pre></div>
<p>문서들에서 몇 개의 룰이 적용되는지 결과를 보면서 텍스트를 대체합니다.
<code>신랑</code>이라는 단어가 <code>남편</code>으로 대체되었음을 알 수
있습니다.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>buzz_after <span class="ot">&lt;-</span> buzz <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CONTENT =</span> <span class="fu">replace_text</span>(CONTENT, <span class="at">verbos =</span> <span class="cn">TRUE</span>))</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>── Replace<span class="sc">:</span> [구두점 대체] <span class="sc">-</span> 다중 구두점 ───────────────────────────────── <span class="dv">2</span>건 ──</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> CCTV ────────────────────────────────────── <span class="dv">3</span>건 ──</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 급여 ────────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 남편 ──────────────────────────────────── <span class="dv">323</span>건 ──</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 딸 ──────────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 모유량 ──────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 베개 ────────────────────────────────────── <span class="dv">5</span>건 ──</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 베이비시터 ──────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 아들 ────────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 아버지 ──────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 어머니 ──────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 초산 ────────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 텔레비전 ────────────────────────────────── <span class="dv">3</span>건 ──</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 할머니 ──────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>── Replace<span class="sc">:</span> [유사단어 대체] <span class="sc">-</span> 화이팅 ──────────────────────────────────── <span class="dv">0</span>건 ──</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(buzz_after<span class="sc">$</span>CONTENT, <span class="st">"남편"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">323</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(buzz_after<span class="sc">$</span>CONTENT, <span class="st">"신랑"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="concat_text를-이용한-텍스트-연결">concat_text()를 이용한 텍스트 연결<a class="anchor" aria-label="anchor" href="#concat_text%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%97%B0%EA%B2%B0"></a>
</h3>
<p>띄어쓰기된 단어들을 하나의 단어로 묶어주기 위해서
<code><a href="../reference/replace_text.html">concat_text()</a></code>를 사용합니다.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>meta_path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"meta"</span>, <span class="at">package =</span> <span class="st">"bitNLP"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>fname <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{meta_path}/preparation_concat.csv"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">set_meta</span>(<span class="st">"concat"</span>, fname, <span class="at">fileEncoding =</span> <span class="st">"utf8"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co"># 등록된 문자열 결합 룰 확인하기</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="fu">get_meta</span>(<span class="st">"concat"</span>)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>                rule_nm                pattern    replace  use</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="dv">1</span> (하원도우미) 붙여쓰기 하원[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>도우미 하원도우미 <span class="cn">TRUE</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="dv">2</span> (가사도우미) 붙여쓰기 가사[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>도우미 가사도우미 <span class="cn">TRUE</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="dv">3</span> (산후도우미) 붙여쓰기 산후[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>도우미 산후도우미 <span class="cn">TRUE</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="dv">4</span> (친정어머니) 붙여쓰기 친정[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>어머니 친정어머니 <span class="cn">TRUE</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="dv">5</span> (베이비시터) 붙여쓰기 베이비[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>시터 베이비시터 <span class="cn">TRUE</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="dv">6</span>   (연말정산) 붙여쓰기   연말[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>정산   연말정산 <span class="cn">TRUE</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="dv">7</span>   (출산휴가) 붙여쓰기   출산[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>휴가   출산휴가 <span class="cn">TRUE</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="dv">8</span>   (시어머니) 붙여쓰기   시[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>어머니   시어머니 <span class="cn">TRUE</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="dv">9</span>   (육아휴직) 붙여쓰기   육아[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">+</span>휴직   육아휴직 <span class="cn">TRUE</span></span></code></pre></div>
<p>일반적으로 복합명사를 정의하는 사례들입니다.</p>
<p><code>가사도우미</code>라는 단어는 <code>가사</code>와
<code>도우미</code>가 결합된 복합명사입니다. 그런데 두 단어가 띄어쓰기된
경우가 있습니다.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>doc_content <span class="ot">&lt;-</span> buzz<span class="sc">$</span>CONTENT</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(doc_content, <span class="st">"가사도우미"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(doc_content, <span class="st">"가사[[:space:]]+도우미"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">22</span></span></code></pre></div>
<p>문서들에서 몇 개의 룰이 적용되는지 결과를 보면서 텍스트를 연결합니다.
두 단어가 띄어쓰기된 <code>가사 도우미</code>가 수정되었습니다.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>buzz_after <span class="ot">&lt;-</span> buzz <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CONTENT =</span> <span class="fu">concat_text</span>(CONTENT, <span class="at">verbos =</span> <span class="cn">TRUE</span>))</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>── Concat<span class="sc">:</span> (가사도우미) 붙여쓰기 ─────────────────────────────────────── <span class="dv">22</span>건 ──</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>── Concat<span class="sc">:</span> (베이비시터) 붙여쓰기 ──────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>── Concat<span class="sc">:</span> (산후도우미) 붙여쓰기 ──────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>── Concat<span class="sc">:</span> (시어머니) 붙여쓰기 ────────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>── Concat<span class="sc">:</span> (연말정산) 붙여쓰기 ────────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>── Concat<span class="sc">:</span> (육아휴직) 붙여쓰기 ────────────────────────────────────────── <span class="dv">2</span>건 ──</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>── Concat<span class="sc">:</span> (출산휴가) 붙여쓰기 ────────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>── Concat<span class="sc">:</span> (친정어머니) 붙여쓰기 ──────────────────────────────────────── <span class="dv">5</span>건 ──</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>── Concat<span class="sc">:</span> (하원도우미) 붙여쓰기 ──────────────────────────────────────── <span class="dv">1</span>건 ──</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(buzz_after<span class="sc">$</span>CONTENT, <span class="st">"가사도우미"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">23</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(buzz_after<span class="sc">$</span>CONTENT, <span class="st">"가사[[:space:]]+도우미"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span></code></pre></div>
<p>이렇게 수정된 문서들이 형태소분석을 통해서 토큰화되어 분석을
수행한다면, 형태소분석기에도 복합명사가 등록되어 있어야 합니다. 안그러면
단어를 연경하여 복합명사를 만든어 놓아도 토큰화 과정에서 다시
분리됩니다.</p>
<p>다음처럼 mecab-ko의 사전에는 <code>가사도우미</code>라는 명사가
등록되어 있지 않습니다. 이 경우에는 사용자 정의 사전으로 토큰화 과정에서
다시 분리되지 않도록 유도해야 합니다.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">morpho_mecab</span>(<span class="st">"가사도우가 집안 청소를 했다."</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>   NNG    NNG    NNG    NNG </span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="st">"가사"</span> <span class="st">"도우"</span> <span class="st">"집안"</span> <span class="st">"청소"</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="split_text를-이용한-텍스트-분리">split_text()를 이용한 텍스트 분리<a class="anchor" aria-label="anchor" href="#split_text%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%B6%84%EB%A6%AC"></a>
</h3>
<p>묶어진 단어를 다시 분리할 경우에는 <code><a href="../reference/replace_text.html">split_text()</a></code>를
사용합니다.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>meta_path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"meta"</span>, <span class="at">package =</span> <span class="st">"bitNLP"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>fname <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{meta_path}/preparation_split.csv"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="fu">set_meta</span>(<span class="st">"split"</span>, fname, <span class="at">fileEncoding =</span> <span class="st">"utf8"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="co"># 등록된 문자열 분리 룰 확인하기</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="fu">get_meta</span>(<span class="st">"split"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>                 rule_nm</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="dv">1</span> (도우미) 유형 띄어쓰기</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>                                                   pattern replace  use</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="dv">1</span> (하원<span class="sc">|</span>등하원<span class="sc">|</span>등원<span class="sc">|</span>입주<span class="sc">|</span>교포<span class="sc">|</span>가사<span class="sc">|</span>산후<span class="sc">|</span>보육<span class="sc">|</span>산모)(도우미) \\<span class="dv">1</span> \\<span class="dv">2</span> <span class="cn">TRUE</span></span></code></pre></div>
<p><code>가사도우미</code>를 주제로 하는 것이 아니라
<code>도우미</code>를 주제로 분석하려 합니다. <code>도우미</code>가
들어간 복합명사를 분리해서 <code>도우미</code>라는 독립된 단어를
만들고자 합니다. <code><a href="../reference/replace_text.html">concat_text()</a></code>의 사례와는 반대의
경우입니다.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>doc_content <span class="ot">&lt;-</span> buzz<span class="sc">$</span>CONTENT</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(doc_content, <span class="st">"(하원|등하원|등원|입주|교포|가사|산후|보육|산모)(도우미)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>  <span class="fu">as.vector</span>()</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">"산후도우미"</span> <span class="st">"입주도우미"</span> <span class="st">"입주도우미"</span> <span class="st">"입주도우미"</span> <span class="st">"입주도우미"</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">"등원도우미"</span> <span class="st">"등원도우미"</span> <span class="st">"가사도우미"</span> <span class="st">"등원도우미"</span> <span class="st">"등원도우미"</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">"보육도우미"</span></span></code></pre></div>
<p><code>도우미</code>가 들어간 복합명사들이 모두 분리되었습니다.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>buzz_after <span class="ot">&lt;-</span> buzz <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CONTENT =</span> <span class="fu">split_text</span>(CONTENT, <span class="at">verbos =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>── Split<span class="sc">:</span> (도우미) 유형 띄어쓰기 ──────────────────────────────────────── <span class="dv">6</span>건 ──</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(buzz_after<span class="sc">$</span>CONTENT, <span class="st">"(하원|등하원|등원|입주|교포|가사|산후|보육|산모)(도우미)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="remove_text를-이용한-텍스트-제거">remove_text()를 이용한 텍스트 제거<a class="anchor" aria-label="anchor" href="#remove_text%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%A0%9C%EA%B1%B0"></a>
</h3>
<p>문서 안에 불필요한 텍스트들이 포함되어 있을 수 있습니다. 그래서 문서
내에서 패턴 검색으로 불필요한 텍스트를 골라내어 제거할 수 있습니다.
<code><a href="../reference/replace_text.html">remove_text()</a></code>를 사용합니다.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>meta_path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"meta"</span>, <span class="at">package =</span> <span class="st">"bitNLP"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>fname <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{meta_path}/preparation_remove.csv"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="fu">set_meta</span>(<span class="st">"remove"</span>, fname, <span class="at">fileEncoding =</span> <span class="st">"utf8"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="co"># 등록된 문자열 제거 룰 확인하기</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="fu">get_meta</span>(<span class="st">"remove"</span>)</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>          rule_nm                                         pattern  use</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="dv">1</span> 카페 안내문구 <span class="dv">1</span> 게시판[[<span class="sc">:</span>space<span class="sc">:</span>]]<span class="sc">*</span>이용전[[<span class="sc">:</span>print<span class="sc">:</span>]]<span class="sc">*</span>이동됩니다. <span class="cn">TRUE</span></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="dv">2</span> 카페 안내문구 <span class="dv">2</span>                  카페이용 전[[<span class="sc">:</span>print<span class="sc">:</span>]]<span class="sc">*</span>참고\\<span class="er">)</span> <span class="cn">TRUE</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="dv">3</span> 카페 안내문구 <span class="dv">3</span>                 게시글 작성[[<span class="sc">:</span>print<span class="sc">:</span>]]<span class="sc">*</span><span class="dv">35756864</span> <span class="cn">TRUE</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="dv">4</span> 카페 안내문구 <span class="dv">4</span>             흥부야[[<span class="sc">:</span>print<span class="sc">:</span>]]<span class="sc">*</span>기타 하고 싶은 말 <span class="cn">TRUE</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="dv">5</span>        URL 문구   (http<span class="sc">|</span>www)([a<span class="sc">-</span>zA<span class="sc">-</span>Z0<span class="dv">-9</span>\\<span class="sc">&gt;</span>\\<span class="sc">/</span>\\.\\<span class="sc">:</span>\\<span class="ot">=</span>\\<span class="sc">&amp;</span>\\_])<span class="sc">*</span> <span class="cn">TRUE</span></span></code></pre></div>
<p>수집한 카페의 게시글에는 불필요한 텍스트들이 포함될 수 있습니다.</p>
<p>다음은 카페의 게시글을 작성할 때, 관리자가 미리 설정해 놓은
주의사항을 삭제하지 않고 게시글을 작성한 문서들을 조회한 사례입니다.
그리고 불필요한 주의사항을 제거한 후의 내용은 어느 정도 정제가
되었습니다.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>doc_content <span class="ot">&lt;-</span> buzz<span class="sc">$</span>CONTENT</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(doc_content, <span class="st">"게시판[[:space:]]*이용전[[:print:]]*이동됩니다."</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>  which</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="dv">61</span>  <span class="dv">65</span>  <span class="dv">67</span>  <span class="dv">69</span>  <span class="dv">79</span>  <span class="dv">82</span> <span class="dv">237</span> <span class="dv">239</span> <span class="dv">245</span> <span class="dv">251</span> <span class="dv">252</span> <span class="dv">256</span> <span class="dv">257</span> <span class="dv">400</span> <span class="dv">403</span> <span class="dv">406</span> <span class="dv">416</span> <span class="dv">417</span> <span class="dv">419</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>[<span class="dv">20</span>] <span class="dv">563</span> <span class="dv">569</span> <span class="dv">571</span> <span class="dv">584</span> <span class="dv">732</span> <span class="dv">737</span> <span class="dv">739</span> <span class="dv">740</span> <span class="dv">903</span> <span class="dv">910</span> <span class="dv">912</span> <span class="dv">915</span> <span class="dv">921</span> <span class="dv">922</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>doc_content[<span class="dv">61</span>]</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">" 게시판 이용전반드시 카페규정 http://cafe.naver.com/imsanbu/28123090을 미리 숙지 당부드립니다.수다방 성격에 맞지않는 이탈글은 적합한 게시판으로 이동 또는 삭제예정게시판으로 이동됩니다.인천살구 아기는 15개월이에요 선천성기형인 이루공인데 수술하신분들은 어디서하셨나요 지금은 인천국제성모에서진료중이고 고름나기시작해서 수술을하게되면 아주대에서할까하는데 아기가 너무어려서 걱정입니다경험하신분들 조언좀해주세요"</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_remove</span>(doc_content[<span class="dv">61</span>], <span class="st">"게시판[[:space:]]*이용전[[:print:]]*이동됩니다."</span>) </span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">" 인천살구 아기는 15개월이에요 선천성기형인 이루공인데 수술하신분들은 어디서하셨나요 지금은 인천국제성모에서진료중이고 고름나기시작해서 수술을하게되면 아주대에서할까하는데 아기가 너무어려서 걱정입니다경험하신분들 조언좀해주세요"</span></span></code></pre></div>
<p><code><a href="../reference/replace_text.html">remove_text()</a></code>로 불필요한 텍스트를 제거한 후에, 앞의
사례인 “게시판[[:space:]]*이용전[[:print:]]*이동됩니다.”를 조회했습니다.
해당 문장이 삭제되어 패턴 검색이 되지 않았습니다.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>buzz_after <span class="ot">&lt;-</span> buzz <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CONTENT =</span> <span class="fu">remove_text</span>(CONTENT, <span class="at">verbos =</span> <span class="cn">TRUE</span>))</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>── Removes<span class="sc">:</span> URL 문구 ─────────────────────────────────────────────────── <span class="dv">40</span>건 ──</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>── Removes<span class="sc">:</span> 카페 안내문구 <span class="dv">1</span> ──────────────────────────────────────────── <span class="dv">33</span>건 ──</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>── Removes<span class="sc">:</span> 카페 안내문구 <span class="dv">2</span> ───────────────────────────────────────────── <span class="dv">9</span>건 ──</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>── Removes<span class="sc">:</span> 카페 안내문구 <span class="dv">3</span> ──────────────────────────────────────────── <span class="dv">47</span>건 ──</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>── Removes<span class="sc">:</span> 카페 안내문구 <span class="dv">4</span> ──────────────────────────────────────────── <span class="dv">16</span>건 ──</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(buzz_after<span class="sc">$</span>CONTENT, <span class="st">"게시판[[:space:]]*이용전[[:print:]]*이동됩니다."</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Choonghyun Ryu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
